{% extends "base.html" %}

{% block content %}
<div id="breadcrumbs" class="breadcrumb">
    <a href="/">Inicio</a> &raquo; <strong>Listado de Dominios</strong>
</div>

<h1>Listado de Dominios</h1>
<table class="table table-condensed">
<thead>
    <th>Zona</th>
    <th align="center">acciones</th>
</thead>
<tbody>
    {% for servicio in servicios %}
    <tr>
        <td>{{ servicio.domain }}</td>
        <td align="center">
            <div class="btn-group">
                {% if servicio.email_type == 'R' %}
                <a class="btn btn-mini btn-inverse disabled" title="buzones de email" href="{% url "mail.views.mailboxes.index" servicio.id %}">
                    <i class="icon-envelope"></i>
                </a>
                {% else %}
                <button class="btn btn-mini btn-inverse disabled" title="buzones de email">
                    <i class="icon-envelope"></i>
                </button>
                {% endif %}
                {% if servicio.email_type %}
                <a class="btn btn-mini" title="redirección de email" href="{% url "mail.views.redirects.index" servicio.id %}">
                    <i class="icon-envelope"></i>
                </a>
                {% else %}
                <button class="btn btn-mini btn-inverse disabled" title="redirección de email">
                    <i class="icon-envelope"></i>
                </button>
                {% endif %}
                <a class="btn btn-mini" title="hosting web" href="{% url "web.views.hostings.index" servicio.id %}">
                    <i class="icon-share"></i>
                </a>
                <a class="btn btn-mini" title="redirección web" href="{% url "web.views.redirects.index" servicio.id %}">
                    <i class="icon-share"></i>
                </a>
                <a class="btn btn-mini btn-info" title="editar" href="{% url "dns.views.domains.edit" servicio.id %}">
                    <i class="icon-edit"></i>
                </a>
                <a class="btn btn-mini btn-danger" title="eliminar" href="#confirm_{{ servicio.id }}" data-toggle="modal">
                    <i class="icon-remove"></i>
                </a>
            </div>
            <div class="modal hide fade" id="confirm_{{ servicio.id }}">
                <div class="modal-header">Eliminar registro</div>
                <div class="modal-body">
                    ¿Está seguro de que dese eliminar el dominio <strong>{{servicio.domain}}</strong>?
                </div>
                <div class="modal-footer">
                    <a href="#" class="btn" data-dismiss="modal">Cancela</a>
                    <a href="{% url "dynamic.views.domains.delete" servicio.id %}" class="btn btn-danger">Elimina</a>
                </div>
            </div>
        </td>
    <tr>
    {% empty %}
    <tr>
        <td colspan="3" align="center">No hay zonas DNS</td>
    </tr>
    {% endfor %}
</tbody>
</table>

{% if servicios|length >= total %}
<button class="btn pull-right btn-inverse disabled" type="button" onclick="alert('Ha superado el máximo, no puede crear más dominios.')"><i class="icon-file"></i> Nuevo Dominio</button>
{% else %}
<a class="btn pull-right btn-primary" href="{% url "dns.views.domains.new" %}"><i class="icon-file"></i> Nuevo Dominio</a>
{% endif %}
{% endblock %}
